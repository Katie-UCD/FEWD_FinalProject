---
export interface Breadcrumb {
  name: string;
  href: string;
}

const generateBreadcrumbs = (pathname: string): Breadcrumb[] => {
  const parts = pathname.split('/').filter(Boolean);
  return parts.map((part, index) => {
    const href = '/' + parts.slice(0, index + 1).join('/');
    return { 
      name: part.replace(/-/g, ' ').replace(/^\w/, (c) => c.toUpperCase()), 
      href 
    };
  });
};

const pathname = Astro.url.pathname; // Get the current URL path
const breadcrumbs = generateBreadcrumbs(pathname);
console.log("Pathname:", pathname); // Debugging
console.log("Breadcrumbs:", breadcrumbs); // Debugging
---

<nav aria-label="breadcrumb" class="breadcrumb-container">
  <ol class="breadcrumb">
    <li><a href="/">Home</a></li>
    {breadcrumbs.map((crumb, idx) => (
      <li>
        <a 
          href={crumb.href} 
          class={idx === breadcrumbs.length - 1 ? 'active' : ''}
        >
          {crumb.name}
        </a>
      </li>
    ))}
  </ol>
</nav>
